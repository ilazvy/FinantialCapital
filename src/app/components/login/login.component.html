<div class="login-container">
  <div class="login-card">
    <!-- Logo y animaci√≥n de carga -->
    <div class="logo-section">
      <div class="logo-container">
        <div class="coin-animation">
          <div class="coin">üí∞</div>
          <div class="piggy-bank">üè¶</div>
        </div>
        <h1 class="logo-text">Finantial Capital</h1>
        <p class="logo-subtitle">Plataforma de Contabilidad Empresarial</p>
      </div>
    </div>

     <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-header">
        <h2>Iniciar Sesi√≥n</h2>
        <p>Accede a tu cuenta</p>
      </div>

       <div class="form-group">
        <label for="email">Correo Electr√≥nico</label>
        <div class="input-container">
          <i class="fas fa-envelope input-icon"></i>
          <input 
            type="email" 
            id="email"
            formControlName="email"
            placeholder="tu@email.com"
            [class.error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
          >
        </div>
        <div class="error-message" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          <span *ngIf="loginForm.get('email')?.errors?.['required']">El email es requerido</span>
          <span *ngIf="loginForm.get('email')?.errors?.['email']">Email inv√°lido</span>
        </div>
      </div>

       <div class="form-group">
        <label for="password">Contrase√±a</label>
        <div class="input-container">
          <i class="fas fa-lock input-icon"></i>
          <input 
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          >
          <button 
            type="button" 
            class="password-toggle"
            (click)="togglePasswordVisibility()"
          >
            <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
          </button>
        </div>
        <div class="error-message" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          <span *ngIf="loginForm.get('password')?.errors?.['required']">La contrase√±a es requerida</span>
          <span *ngIf="loginForm.get('password')?.errors?.['minlength']">M√≠nimo 6 caracteres</span>
        </div>
      </div>

       <div class="form-group">
        <label for="role">Rol</label>
        <div class="input-container">
          <i class="fas fa-user-tag input-icon"></i>
          <select id="role" formControlName="role" class="role-select">
            <option value="employee">Empleado</option>
            <option value="admin">Administrador</option>
          </select>
        </div>
      </div>

       <div class="form-group">
        <label for="captcha">CAPTCHA</label>
        <div class="captcha-container">
          <div class="captcha-display">
            <span class="captcha-text">{{ captchaValue }}</span>
            <button type="button" class="refresh-captcha" (click)="generateCaptcha()">
              <i class="fas fa-sync-alt"></i>
            </button>
          </div>
          <div class="input-container">
            <i class="fas fa-shield-alt input-icon"></i>
            <input 
              type="text" 
              id="captcha"
              formControlName="captcha"
              placeholder="Ingresa el c√≥digo"
              maxlength="6"
              [class.error]="loginForm.get('captcha')?.invalid && loginForm.get('captcha')?.touched"
            >
          </div>
        </div>
        <div class="error-message" *ngIf="loginForm.get('captcha')?.invalid && loginForm.get('captcha')?.touched">
          <span *ngIf="loginForm.get('captcha')?.errors?.['required']">CAPTCHA requerido</span>
        </div>
      </div>

       <div class="attempts-info" *ngIf="loginAttempts > 0">
        <i class="fas fa-exclamation-triangle"></i>
        <span>Intentos restantes: {{ getRemainingAttempts() }}</span>
      </div>

       <div class="block-message" *ngIf="isBlocked">
        <i class="fas fa-ban"></i>
        <span>Cuenta bloqueada temporalmente por m√∫ltiples intentos fallidos</span>
      </div>

       <button 
        type="submit" 
        class="login-button"
        [disabled]="loginForm.invalid || isBlocked || isLoading"
        [class.loading]="isLoading"
      >
        <span *ngIf="!isLoading">Iniciar Sesi√≥n</span>
        <div class="spinner" *ngIf="isLoading">
          <div class="spinner-ring"></div>
        </div>
      </button>

       <div class="demo-credentials">
        <h4>Credenciales de Demo:</h4>
        <div class="credential-item">
          <strong>Admin:</strong> admin@financial.com / admin123
        </div>
        <div class="credential-item">
          <strong>Empleado:</strong> empleado@financial.com / empleado123
        </div>
      </div>
    </form>
  </div>
   <audio id="cashRegisterSound" preload="auto">
    <source src="assets/sounds/cash-register.mp3" type="audio/mpeg">
  </audio>
</div>
    <!-- Update -->
    <!-- Update -->
    <!-- Update -->

